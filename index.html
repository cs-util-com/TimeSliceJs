<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FFmpeg.wasm Single-Threaded Self-Hosted Example</title>
</head>
<body>
  <p id="status">Loading FFmpeg...</p>
  
  <!-- Load FFmpeg API from local files -->
  <script src="./ffmpeg-core/ffmpeg.js"></script>
  <script src="./ffmpeg-core/814.ffmpeg.js"></script>
  <script>
    (async () => {
      try {
        // Create the FFmpeg instance directly
        const ffmpeg = new FFmpegWASM({
          log: true,
          corePath: './ffmpeg-core/ffmpeg-core.js',
          mainName: 'main',
          workerPath: 'data:application/javascript;base64,' + btoa('console.log("Dummy worker loaded.");')
        });
        await ffmpeg.load();
        document.getElementById('status').textContent = 'FFmpeg loaded successfully.';
        console.log("FFmpeg loaded successfully!");
      } catch (err) {
        console.error('Error loading FFmpeg:', err);
        document.getElementById('status').textContent = `Error loading FFmpeg: ${err}`;
      }
    })();
  </script>
</body>
</html>